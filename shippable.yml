language: scala
scala:
- 2.11.7

jdk:
- oraclejdk8

# Custom image...
# build_image: kpmeen/docker-clamav-scala

# start clamav
install: /bootstrap.sh

#env:
#  global:
#    - secure: ujjb//TrebgFRWibElyF4rU76c1OYQc51k4y3GQVcXtuhi44BTqdva+vpU5L+PNISp1SotrElxWlS+901mGV3Sm+5qyHOssvNUDua2WqJUtThh7pIAlbfk+vQqq03Kmkga5OaXZvv0aIW/NtVg0GyFIoDnBk7U3T9r/tmKQPFYqfoMIRBhKnu96bYtUJ8/hW1VagY0b4GbGIFlOE+6glVdDnGbEdtUxIuR2Ti3pB3JAoYVw0Egxx/KVX13Ji30nypeHPxWT86V/LEG7JTurSOfj5wciwJNaEMuezXXDC8bfs3QartpaQ8aTAnmN0mi/VbdMpBzEyUbvf8JM2FIcwcg==

# run tests...
script:
- sbt clean coverage test codacyCoverage

# Make coverage report available
after_script:
  - mkdir -p shippable/codecoverage
  - mv target/scala-2.11/coverage-report/cobertura.xml $PWD/shippable/codecoverage/

